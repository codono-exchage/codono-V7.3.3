<include file="Public:header"/>
<div id="main-content">
	<div id="top-alert" class="fixed alert alert-error" style="Display: none;">
		<button class="close fixed" style="margin-top: 4px;">&times;</button>
		<div class="alert-content">{:l('Warnings')}</div>
	</div>
	<div id="main" class="main">
	<div class="row">
    <div class="col-12">
        <div class="page-title-box d-sm-flex align-items-center justify-content-between">
            <h4 class="mb-sm-0 font-size-18">{:l('Article Manager')}</h4>
        </div>
    </div>
</div>


					<script>
						//Search function
						$(function () {
							$('#search').click(function () {
								$('#formSearch').submit();
							});
						});
						//Enter search
						$(".search-input").keyup(function (e) {
							if (e.keyCode === 13) {
								$("#search").click();
								return false;
							}
						});
					</script>
				</div>
			</div>
		</div>
		<div class="card"><div class="card-body">
			<div class="d-flex flex-wrap gap-2 tomato-1 mb-1">
				<div>
					<a class="btn btn-success me-2" href="{:U('Article/edit')}">{:l('Add')}</a>
					<button class="btn btn-info me-2 ajax-post" url="{:U('Article/status',array('type'=>'resume'))}" target-form="ids">{:l('Enable')}</button>
					<button class="btn btn-warning me-2 ajax-post" url="{:U('Article/status',array('type'=>'forbid'))}" target-form="ids">{:l('Disable')}</button>
					<button class="btn btn-danger ajax-post confirm" url="{:U('Article/status',array('type'=>'del'))}" target-form="ids"><i class="far fa-trash-alt" title="Delete"></i></button>
				</div>
				<div class="d-flex align-items-center">
					<form name="formSearch" id="formSearch" method="get" class="d-flex align-items-center">
						<select name="status" class="form-select me-2">
							<option value="" <empty name="Think.get.status">{:l('Selected')}</empty>>{:l('All states')}</option>
							<option value="1" <eq name="Think.get.status" value="1">Selected</eq>>{:l('Disabled state')}</option>
							<option value="2" <eq name="Think.get.status" value="2">Selected</eq>>{:l('Enabled status')}</option>
						</select>
						<select name="field" class="form-select me-2">
							<option value="title" <eq name="Think.get.field" value="title">{:l('Selected')}</eq>>{:l('Article Title')}</option>
						</select>
						<input type="text" name="name" class="form-control me-2" value="{$Think.get.name}" placeholder="Enter text to search">
						<button type="submit" class="btn btn-primary"><i class="bx bx-search" title="Search"></i></button>
					</form>
				</div>
			</div>
			<table class="table table-condensed">
				<thead class="table-light">
				<tr>
					<th class="row-selected row-selected"><input class="check-all" type="checkbox"/></th>
					<th class="">{:l('ID')}</th>
					<th class="">{:l('Category')}</th>
					<th class="">{:l('Title')}</th>
					<th class="">{:l('On Frontend')}</th>
					<th class="">{:l('On Footer')}</th>
					<th class="">{:l('Add time')}</th>
					<th class="">{:l('Edit time')}</th>
					<th class="">{:l('Sort')}</th>
					<th class="">Status</th>
					<th class="">{:l('Option')}</th>
				</tr>
				</thead>
				<tbody>
				<notempty name="list">
					<volist name="list" id="vo">
						<tr>
							<td><input class="ids" type="checkbox" name="id[]" value="{$vo.id}"/></td>
							<td>{$vo.id}</td>
							<td><small>{$vo['type']}</small></td>
							<td><span title="{$vo.title}">
							{$vo.title|msubstr=0,15}</span></td>
							<td>
								<eq name="vo.index" value="1">{:l('Show')}<else/>{:l('Hide')}</eq></td>
							<td>
								<eq name="vo.footer" value="1">{:l('Show')}<else/>{:l('Hide')}</eq>
							</td>
							<td>{$vo.addtime|addtime}</td>
							<td>{$vo.endtime|addtime}</td>
							<td>{$vo.sort}</td>
							<td>
								<eq name="vo.status" value="1">
									<span class="badge badge-pill badge-soft-success font-size-11">{:l('Enabled')}</span>
									<else/>
									<span class="badge badge-pill badge-soft-danger font-size-11">{:l('Disabled')}</span>
								</eq>
							</td>
							<td><a href="{:U('Article/edit?id='.$vo['id'])}" class="btn btn-primary btn-sm"><i class="far fa-edit"></i></a></td>
						</tr>
					</volist>
					<else/>
					<td colspan="12" class="text-center">{:l('No contents!')}</td>
				</notempty>
				</tbody>
			</table>
			<div class="page">
				<div>{$page}</div>
			</div>
		</div>
		</div>
	</div>
</div>
<include file="Public:footer"/>
<block name="script">
	<script type="text/javascript" charset="utf-8">
		//Highlight navigation
		highlight_subnav("{:U('Article/index')}");
	</script>
</block>